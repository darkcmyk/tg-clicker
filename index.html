<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Combat Dark</title>
<style>
  /* Сброс */
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0; 
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
    color: #ddd;
    overflow-x: hidden;
    height: 100vh;
    display: flex;
    flex-direction: column;
  }
  header {
    background: #1a122f;
    padding: 20px 40px;
    font-size: 2.5rem;
    font-weight: 700;
    letter-spacing: 3px;
    color: #bb86fc;
    user-select: none;
    text-shadow: 0 0 8px #bb86fc;
  }
  main {
    flex: 1;
    padding: 20px 40px;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }
  
  /* Вкладки */
  nav {
    display: flex;
    gap: 25px;
    border-bottom: 1px solid #bb86fc33;
  }
  nav button {
    background: none;
    border: none;
    padding: 12px 20px;
    color: #aaa;
    font-weight: 600;
    font-size: 1.1rem;
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: all 0.3s ease;
    user-select: none;
  }
  nav button.active {
    color: #bb86fc;
    border-color: #bb86fc;
    font-weight: 700;
  }
  nav button:hover:not(.active) {
    color: #d0b9ffcc;
  }

  /* Контейнеры вкладок */
  section.tab-content {
    display: none;
    flex-direction: column;
    gap: 15px;
  }
  section.tab-content.active {
    display: flex;
  }

  /* Кликер */
  #clicker {
    width: 160px;
    height: 160px;
    border-radius: 50%;
    background: linear-gradient(145deg, #3a0ca3, #6a0dad);
    box-shadow: 0 0 15px #9a4dffcc;
    margin: 0 auto;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 2rem;
    font-weight: 700;
    user-select: none;
    position: relative;
    transition: transform 0.2s ease, box-shadow 0.3s ease;
  }
  #clicker.clicked {
    transform: scale(0.92);
    box-shadow: 0 0 30px #bb86fc;
  }

  /* Магазин */
  #upgrade-shop {
    display: flex;
    gap: 25px;
    flex-wrap: wrap;
    justify-content: center;
  }
  .item {
    background: #1a122f;
    border: 1.5px solid #bb86fc44;
    border-radius: 12px;
    padding: 15px 25px;
    width: 160px;
    text-align: center;
    color: #bb86fccc;
    font-weight: 600;
    user-select: none;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  .item:hover {
    background-color: #391d7a88;
    border-color: #bb86fcaa;
  }
  .price {
    margin-top: 10px;
    font-size: 1.2rem;
    color: #d1b8ffcc;
  }

  /* Скины */
  .skins-container {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin-top: 10px;
  }
  .skin-btn {
    width: 60px;
    height: 60px;
    border-radius: 14px;
    cursor: pointer;
    box-shadow: 0 0 10px #6a0dadaa;
    transition: box-shadow 0.3s ease;
  }
  .skin-btn:hover {
    box-shadow: 0 0 20px #bb86fcff;
  }
  .skin1 {
    background: linear-gradient(145deg, #f3c623, #d4a71b);
  }
  .skin2 {
    background: linear-gradient(145deg, #1864ab, #0d3b66);
  }
  .skin3 {
    background: linear-gradient(145deg, #b00020, #7a0014);
  }

  /* Монеты */
  #coins {
    font-size: 1.5rem;
    font-weight: 700;
    text-align: center;
    margin-bottom: 12px;
    letter-spacing: 1.3px;
    text-shadow: 0 0 6px #bb86fcaa;
    user-select: none;
  }

  /* Уведомления - маленькие и почти прозрачные */
  #notifications {
    position: fixed;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: auto;
    max-width: 300px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    pointer-events: none;
    z-index: 1000;
  }
  .notification {
    background: rgba(187, 134, 252, 0.15);
    color: #bb86fccc;
    font-size: 0.7rem;
    font-weight: 600;
    padding: 4px 10px;
    border-radius: 8px;
    box-shadow: 0 0 5px #bb86fc44;
    opacity: 0.7;
    animation: fadeinout 3s ease forwards;
  }
  @keyframes fadeinout {
    0% {opacity: 0; transform: translateY(10px);}
    10%, 90% {opacity: 0.7; transform: translateY(0);}
    100% {opacity: 0; transform: translateY(-10px);}
  }

  /* Футер */
  footer {
    background: #1a122f;
    color: #bb86fcaa;
    font-size: 0.8rem;
    font-weight: 600;
    text-align: center;
    padding: 10px 0;
    user-select: none;
    letter-spacing: 1.1px;
  }

  /* Частицы (фон) */
  #particles-js {
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 0;
  }
</style>
</head>
<body>

<header>Combat Dark</header>

<nav>
  <button class="tab-btn active" data-tab="clicker-tab">Кликер</button>
  <button class="tab-btn" data-tab="shop-tab">Магазин</button>
  <button class="tab-btn" data-tab="skins-tab">Скины</button>
</nav>

<main>
  <section id="clicker-tab" class="tab-content active">
    <div id="coins">Монет: 0</div>
    <div id="clicker" title="Кликни меня!">Клик</div>
  </section>

  <section id="shop-tab" class="tab-content">
    <div id="upgrade-shop">
      <div class="item" data-upgrade="power" title="Увеличить силу клика">
        Сила клика<br />
        <span class="price">10</span> монет
      </div>
      <div class="item" data-upgrade="autoClicker" title="Автокликер">
        Автокликер<br />
        <span class="price">25</span> монет
      </div>
      <div class="item" data-upgrade="bonus" title="Бонусный множитель">
        Бонус<br />
        <span class="price">50</span> монет
      </div>
    </div>
  </section>

  <section id="skins-tab" class="tab-content">
    <h2 style="text-align:center; color:#bb86fccc;">Скины для кнопки</h2>
    <div class="skins-container">
      <div class="skin-btn skin1" data-skin="skin1" title="Золотой"></div>
      <div class="skin-btn skin2" data-skin="skin2" title="Синий"></div>
      <div class="skin-btn skin3" data-skin="skin3" title="Красный"></div>
    </div>
  </section>
</main>

<div id="notifications"></div>

<footer>С любовью Dark 2025 ©</footer>

<!-- Частицы JS -->
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
  // Инициализация партиклов (черно-фиолетовые, неоновые)
  particlesJS("particles-js", {
    "particles": {
      "number": {
        "value": 50,
        "density": {"enable": true, "value_area": 800}
      },
      "color": {"value": ["#bb86fc", "#7c4dff", "#3f0071"]},
      "shape": {
        "type": "circle",
        "stroke": {"width": 0, "color": "#000000"},
      },
      "opacity": {
        "value": 0.15,
        "random": true,
        "anim": {"enable": false}
      },
      "size": {
        "value": 3,
        "random": true,
        "anim": {"enable": false}
      },
      "move": {
        "enable": true,
        "speed": 0.5,
        "direction": "none",
        "random": true,
        "straight": false,
        "out_mode": "out"
      }
    },
    "interactivity": {
      "detect_on": "canvas",
      "events": {
        "onhover": {"enable": false},
        "onclick": {"enable": false},
        "resize": true
      }
    },
    "retina_detect": true
  });
</script>

<script>
  // Переменные игры
  let coins = 0;
  let power = 1;
  let autoClicker = 0;
  let bonus = 0;

  const coinsDisplay = document.getElementById('coins');
  const clicker = document.getElementById('clicker');
  const upgradeShop = document.getElementById('upgrade-shop');
  const notifications = document.getElementById('notifications');

  // Обновление монет
  function updateCoins() {
    coinsDisplay.textContent = `Монет: ${coins}`;
  }

  // Уведомления - теперь не вызываются при кликах на кнопку клика
  function notify(message) {
    const note = document.createElement('div');
    note.classList.add('notification');
    note.textContent = message;
    notifications.appendChild(note);
    setTimeout(() => note.remove(), 3000);
  }

  // Анимация клика кнопки
  function animateClick() {
    clicker.classList.add('clicked');
    setTimeout(() => clicker.classList.remove('clicked'), 200);
  }

  // Обработчик клика на кнопку клика (без уведомлений)
  clicker.addEventListener('click', () => {
    coins += power + bonus;
    updateCoins();
    animateClick();
  });

  // Обработка покупок в магазине
  upgradeShop.addEventListener('click', e => {
    const item = e.target.closest('.item');
    if (!item) return;

    const upgrade = item.getAttribute('data-upgrade');
    let price = Number(item.querySelector('.price').textContent);

    if (coins < price) {
      notify('Недостаточно монет!');
      return;
    }

    coins -= price;

    switch(upgrade) {
      case 'power':
        power += 1;
        price = Math.floor(price * 1.5);
        item.querySelector('.price').textContent = price;
        notify('Сила клика увеличена!');
        break;
      case 'autoClicker':
        autoClicker += 1;
        price = Math.floor(price * 1.7);
        item.querySelector('.price').textContent = price;
        notify('Автокликер активирован!');
        break;
      case 'bonus':
        bonus += 2;
        price = Math.floor(price * 2);
        item.querySelector('.price').textContent = price;
        notify('Бонусный множитель увеличен!');
        break;
    }
    updateCoins();
  });

  // Автокликер (каждую секунду)
  setInterval(() => {
    if (autoClicker > 0) {
      coins += autoClicker * (power + bonus);
      updateCoins();
      notify(`Автокликер: +${autoClicker * (power + bonus)} монет`);
    }
  }, 1000);

  // Обработка смены скина
  document.querySelectorAll('.skin-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const skin = btn.getAttribute('data-skin');
      clicker.className = '';
      clicker.classList.add(skin);
    });
  });

  // Вкладки
  const tabs = document.querySelectorAll('.tab-btn');
  const contents = document.querySelectorAll('.tab-content');
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      contents.forEach(c => c.classList.remove('active'));
      tab.classList.add('active');
      document.getElementById(tab.dataset.tab).classList.add('active');
    });
  });
</script>

<!-- Контейнер для партиклов -->
<div id="particles-js"></div>

</body>
</html>
